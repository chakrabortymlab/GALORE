
#   Genomic Data File Formats

## Module Goals
- Become familiar with commonly used genomic data file formats
- Download necessary files for later analysis
- Practice UNIX commands to view and manipulate large genomic files

Genomic data can consist of sequence information as well as information about the sequence data. In order to store this information such that any program or pipeline can be applied to the data, there are standardized formats that exist. While this isn't an exhaustive list of genomic data formats, here we will go over some of the most commonly used file formats which will be used in this project.


## Nucleotide Sequence Files

### FASTQ
- Stores the raw sequencing data which consists of nucleotide sequences and a quality score for each base in the sequence. Each nucleotide sequence, or read, represents a fragment of the genome which can be directly compared to a genome or stitched together to generate an assembly.

### FASTA
- Stores nucleotide or amino acid sequences
- Starts each record with a `>` followed by the sequence name
```text
>2L
CGACAATGCACGA...
```
## Annotation Files
Annotation files store information about the features of a genome, such as genes, enhancers, coding sequences, and repetitive elements.

### BED
- Stores genomic intervals (tab-delimited)
- Can represent coordinates for anything: gene features, variants, or just a region of interest.
```text
chrom   chromStart   chromEnd
```

### GFF/GTF
- Store genome feature annotations (gene, exon, CDS, etc.)
```text
chrom	source	type	start	end	score	strand	phase	attributes
```

---

## Example: Working with the Drosophila melanogaster Reference Genome
A reference genome is a representative and well-annotated version of a genome that serves as a standard or reference for a particular species.
The reference genome is used as a baseline for comparing and analyzing the genetic information of individuals within the same species.
It is usually a composite or consensus sequence derived from the genetic material of multiple individuals of that species. 
The D. melanogaster reference is one of the most complete and well-annotated metazoan genome assemblies.

### Download FASTA
```bash
wget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/000/001/215/GCF_000001215.4_Release_6_plus_ISO1_MT/GCF_000001215.4_Release_6_plus_ISO1_MT_genomic.fna.gz 
gunzip GCF_000001215.4_Release_6_plus_ISO1_MT_genomic.fna.gz 
```

### View FASTA File
```bash
less GCF_000001215.4_Release_6_plus_ISO1_MT_genomic.fna
head GCF_000001215.4_Release_6_plus_ISO1_MT_genomic.fna
grep '>' GCF_000001215.4_Release_6_plus_ISO1_MT_genomic.fna.gz  | head
```

---

## Piping Commands
You can use pipes (`|`) to chain commands together:
```bash
grep '>' GCF_000001635.27_GRCm39_genomic.fna | head
```

---

## Annotation Files

### Download GFF File
```bash
wget GCF_000001215.4_Release_6_plus_ISO1_MT_genomic.gff.gz
gunzip GCF_000001635.27_GRCm39_genomic.gff.gz
less GCF_000001635.27_GRCm39_genomic.gff
```

### GFF Format Breakdown
- Column 3 (`type`) indicates features like `gene`, `exon`, etc.
- Column 9 (`attributes`) includes IDs, names, and other metadata

---

## Using `awk`
Basic structure:
```bash
awk 'pattern {action}' file
```
Examples:
```bash
awk '$3 == "gene" {print}' GCF_000001635.27_GRCm39_genomic.gff > genes.txt
less genes.txt
awk '$2 == "exon" {print $5}' GCF_000001635.27_GRCm39_genomic.gff
```

---
